<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>
<body>
    <script>
        window.fbAsyncInit = function() {
          FB.init({
            appId            : '651852799889502',
            autoLogAppEvents : true,
            xfbml            : true,
            version          : 'v15.0'
          });
        };
      </script>
      <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk/debug.js"></script>
          
    <h1>User Access Token</h1>
    <p>Because for some reason this can't be handled exclusively server side</p>
    <a href="https://developers.facebook.com/docs/pages/access-tokens">Docs (Get a Long-lived User Access Token)</a>
    <input type="text" id="app-id" placeholder="Facebook App Id" value="651852799889502" />
    <input type="text" id="app-secret" placeholder="App Secret" />
    <fb:login-button 
        scope="public_profile,email"
        onlogin="getcode();">
        </fb:login-button>
    <script>
        let request = `curl -i -X GET "https://graph.facebook.com/oauth/access_token?grant_type=fb_exchange_token&
                        client_id=APP-ID&
                        client_secret=APP-SECRET&
                        fb_exchange_token=SHORT-LIVED-USER-ACCESS-TOKEN"`;
                        
        function getcode() {
            FB.login((response) => {

                FB.getLoginStatus(function(response) {
                    console.log(response);
                    if (response.status === 'connected') {
                        var accessToken = response.authResponse.accessToken;
                        request = request.replace("APP-ID", document.getElementById("app-id").value)
                                        .replace("APP-SECRET", document.getElementById("app-secret").value);
                        document.getElementById("code").innerText = request;

                    } 
                });
            })
        });

    </script>
    <code id="code"></code>

</body>
</html>